jQuery(function(e){"use strict";function t(e,t){var n=s.scrollTop;e.cancelable&&(t<0&&0===n||t>0&&n>=s.scrollHeight-s.clientHeight)&&e.preventDefault(),e.stopPropagation(),document.body.scrollLeft=0}var n=e(".sidebar").first();if(!(n.length<1)){var i=WDL.getOverflowScrollbarWidth(),r=n.innerWidth(),l=n.height(),o=n.get(0).scrollHeight;if(!(o<=l)){var c=n.find("li").first().outerHeight(!0),a=document.createElement("button");a.className="collapse-toggle btn btn-link btn-xs btn-block",a.setAttribute("type","button"),n.find("ul").each(function(t,n){var l=e(n),o=l.siblings("h3");if(i&&l.css("width",r-(i+4)),!(l.children("li").length<=2)){n.style.maxHeight=(n.children.length+1)*c+"px",l.addClass("collapsed"),o.css("cursor","pointer");var s=a.cloneNode();n.parentNode.insertBefore(s,n.nextSibling),o.add(s).on("click",function(){return l.toggleClass("collapsed"),!1})}});var s=n.get(0);s.addEventListener&&(s.addEventListener("wheel",function(e){return t(e,e.deltaY)}),s.addEventListener("mousewheel",function(e){var n=e.wheelDeltaY;return e.webkitDirectionInvertedFromDevice&&(n*=-1),t(e,n)}),s.addEventListener("touchstart touchmove touchend",function(e){e.stopPropagation()}))}}});